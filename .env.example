# ===========================================
# LK Housler - Environment Variables
# ===========================================
# Скопируй в .env и заполни реальными значениями

# ===========================================
# Database (PostgreSQL)
# ===========================================
DB_HOST=postgres
DB_PORT=5432
DB_NAME=lk_housler
DB_USER=lk_user
DB_PASSWORD=CHANGE_ME_SECURE_PASSWORD

# Полный URL для SQLAlchemy
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# ===========================================
# Redis
# ===========================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/0

# ===========================================
# MinIO (S3-compatible storage)
# ===========================================
MINIO_ENDPOINT=minio:9000
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin
MINIO_BUCKET=lk-housler

# ===========================================
# Application
# ===========================================
APP_ENV=development
DEBUG=true
LOG_LEVEL=INFO

# API
API_HOST=0.0.0.0
API_PORT=8000

# Frontend URL (для CORS)
FRONTEND_URL=http://localhost:3000
NEXT_PUBLIC_API_URL=http://localhost:8000

# ===========================================
# Authentication (JWT)
# ===========================================
# Генерировать: openssl rand -base64 32
JWT_SECRET=CHANGE_ME_GENERATE_SECURE_SECRET
JWT_ALGORITHM=HS256
JWT_EXPIRES_IN=7d
ACCESS_TOKEN_EXPIRE_MINUTES=10080

# ===========================================
# PII Encryption (152-ФЗ)
# ===========================================
# Генерировать: openssl rand -hex 32
# ВАЖНО: Хранить в безопасности! Потеря = потеря данных
ENCRYPTION_KEY=CHANGE_ME_GENERATE_32_BYTE_HEX_KEY

# ===========================================
# SMS Provider (SMS.RU)
# ===========================================
# Провайдер: sms_ru | twilio | vonage
SMS_PROVIDER=sms_ru

# SMS.RU (основной)
SMS_RU_API_ID=YOUR_SMS_RU_API_ID_HERE

# Тестовый режим (true = SMS не отправляются)
SMS_TEST_MODE=true

# Twilio (опционально)
# TWILIO_ACCOUNT_SID=
# TWILIO_AUTH_TOKEN=
# TWILIO_PHONE_NUMBER=

# ===========================================
# Email (Yandex 360 SMTP)
# ===========================================
# Провайдер: mock (тестовый) или smtp (production)
EMAIL_PROVIDER=mock

# Настройки Yandex 360:
# 1. Создайте почтовый ящик в Yandex 360 для бизнеса
# 2. Создайте "пароль приложения" в настройках безопасности
#    (Настройки -> Безопасность -> Пароли приложений)
# 3. Используйте email как SMTP_USER, пароль приложения как SMTP_PASSWORD

SMTP_HOST=smtp.yandex.ru
SMTP_PORT=465
SMTP_USER=noreply@housler.ru
SMTP_PASSWORD=CHANGE_ME_APP_PASSWORD
SMTP_FROM_EMAIL=noreply@housler.ru
SMTP_FROM_NAME=Housler

# SSL/TLS:
# - Порт 465: SMTP_USE_SSL=true, SMTP_USE_TLS=false
# - Порт 587: SMTP_USE_SSL=false, SMTP_USE_TLS=true
SMTP_USE_SSL=true
SMTP_USE_TLS=false

# ===========================================
# Yandex Cloud (AI features)
# ===========================================
YANDEX_FOLDER_ID=
YANDEX_OAUTH_TOKEN=
YANDEX_GPT_API_KEY=
YANDEX_GPT_FOLDER_ID=

# ===========================================
# Sentry (Error tracking)
# ===========================================
SENTRY_DSN=

# ===========================================
# CORS
# ===========================================
CORS_ORIGINS=http://localhost:3000,https://lk.housler.ru

# ===========================================
# Rate Limiting
# ===========================================
RATE_LIMIT_PER_MINUTE=60
SMS_RATE_LIMIT_PER_MINUTE=1

# ===========================================
# Test Accounts (для разработки)
# ===========================================
# Тестовые телефоны: 79999000000 - 79999999999
# Тестовые коды: 111111, 222222, 333333, 444444, 555555, 666666

# ===========================================
# Production only
# ===========================================
# Раскомментировать для production

# APP_ENV=production
# DEBUG=false
# SMS_TEST_MODE=false
# FRONTEND_URL=https://lk.housler.ru
# NEXT_PUBLIC_API_URL=https://lk.housler.ru/api
